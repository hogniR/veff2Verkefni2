<div class="alert alert-danger" ng-cloak ng-show="errorMessage != ''">
	{{errorMessage}}
</div>

<h3>Hi {{currentUser}} - Room: {{currentRoom}}</h3>
<div class="col-md-9">
	<div class="chat">
		<ul class="msgList">
			<li class="" ng-repeat="msg in messages"><p>[{{msg.timestamp | date:"HH:mm"}}] {{msg.nick}}: {{msg.message}}</p></li>
		</ul>
	</div>
	<form ng-submit="addMessage()">	
		<input id="sendMsg" type="text" ng-model="newMessage"/>
		<button class="btn btn-primary" ng-click="addMessage()">Send message</button>
	</form>
</div>
<div>
</div>
<div class="col-md-3">
	<h4>Users in this room</h4>
	<div class="dropdown">	
		<div ng-repeat="user in currentUsers">
			<button  class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">{{user}}<span class="caret"></span></button>
				<ul class="dropdown-menu" role="menu">
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="kickUser(user)">Kick user</a>
					</li>
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="banUser(user)"> Ban user</a>
					</li>
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="sendPrivatMessage()"> Send private message</a>
					</li>
					<li role="presentation">
						<a role="menuitem" tabindex="-1" ng-click="partRoom()"> Leave room</a>
					</li>
				</ul>
		</div>
	</div>
</div>